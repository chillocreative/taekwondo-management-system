import{r as o,j as e,H as x,a as m}from"./app-zw9vrSh_.js";import{A as h}from"./AuthenticatedLayout-DlDRZk11.js";import"./transition-clmLKNHR.js";function j({auth:d,feesData:i}){const[r,n]=o.useState(null),l=(s,t,a)=>{confirm(`Anda pasti mahu membayar yuran untuk bulan ${t}?`)&&m.post(route("fees.pay"),{child_id:s,month:t,amount:a})},c=s=>{n(r===s?null:s)};return e.jsxs(h,{user:d.user,header:e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold leading-tight text-zinc-900",children:"Yuran Pengajian"}),children:[e.jsx(x,{title:"Yuran Pengajian"}),e.jsx("div",{className:"py-6 sm:py-12 bg-zinc-50 min-h-screen",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:i.length===0?e.jsx("div",{className:"bg-white p-8 rounded-xl border border-zinc-200 text-center shadow-sm",children:e.jsx("p",{className:"text-zinc-500",children:'Tiada rekod peserta dijumpai. Sila tambah peserta terlebih dahulu di menu "Nama Peserta".'})}):e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-zinc-50 border-b border-zinc-200 flex justify-between items-center cursor-pointer hover:bg-zinc-100 transition-colors",onClick:()=>c(s.id),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-zinc-900",children:s.name}),e.jsxs("p",{className:"text-sm text-zinc-500",children:["No. Siri: ",s.no_siri]})]}),e.jsx("div",{className:"text-zinc-400",children:e.jsx("svg",{className:`w-6 h-6 transform transition-transform duration-200 ${r===s.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),r===s.id&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-zinc-200",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"Yuran Bulan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"Tarikh Akhir"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"Tindakan"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-zinc-200",children:s.fees.map((t,a)=>e.jsxs("tr",{className:`hover:bg-zinc-50 transition-colors ${t.is_overdue?"bg-red-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-zinc-900",children:t.month}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-zinc-600",children:t.due_date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${t.status==="Sudah Dibayar"?"bg-emerald-50 text-emerald-600 border border-emerald-100":t.status==="Tertunggak"?"bg-red-50 text-red-600 border border-red-200":"bg-amber-50 text-amber-600 border border-amber-100"}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.hide_action?e.jsx("span",{className:"text-zinc-300 text-xs"}):t.is_paid?e.jsxs("div",{className:"flex flex-col items-start gap-1",children:[e.jsxs("span",{className:"text-emerald-600 text-xs",children:["âœ“ ",t.paid_date]}),t.receipt_url&&e.jsxs("a",{href:t.receipt_url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-xs font-bold border border-zinc-300 rounded-lg hover:bg-zinc-50 transition-colors flex items-center gap-1 shadow-sm text-zinc-700 bg-white",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Resit"]})]}):t.can_pay?e.jsx("button",{onClick:()=>l(s.id,t.month,t.amount),className:`px-4 py-2 text-white text-xs font-bold rounded-lg transition-colors shadow-sm ${t.is_overdue?"bg-red-600 hover:bg-red-700":"bg-black hover:bg-zinc-800"}`,children:"BAYAR"}):e.jsx("span",{className:"text-zinc-400 text-xs",children:"-"})})]},a))})]})})]},s.id))})})})]})}export{j as default};
