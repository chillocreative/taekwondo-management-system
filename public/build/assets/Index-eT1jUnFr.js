import{r as c,j as e,H as x,a as m}from"./app-CtwvpkyP.js";import{A as h}from"./AuthenticatedLayout-B6_lW-3i.js";import"./transition-Bya9AK1J.js";function b({auth:d,feesData:n}){const[a,i]=c.useState(null),l=(t,s,r)=>{confirm(`Anda pasti mahu membayar yuran untuk bulan ${s}?`)&&m.post(route("fees.pay"),{child_id:t,month:s,amount:r})},o=t=>{i(a===t?null:t)};return e.jsxs(h,{user:d.user,header:e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold leading-tight text-zinc-900",children:"Yuran Pengajian"}),children:[e.jsx(x,{title:"Yuran Pengajian"}),e.jsx("div",{className:"py-6 sm:py-12 bg-zinc-50 min-h-screen",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:n.length===0?e.jsx("div",{className:"bg-white p-8 rounded-xl border border-zinc-200 text-center shadow-sm",children:e.jsx("p",{className:"text-zinc-500",children:'Tiada rekod anak dijumpai. Sila tambah anak anda terlebih dahulu di menu "Nama Peserta".'})}):e.jsx("div",{className:"space-y-4",children:n.map(t=>e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-zinc-50 border-b border-zinc-200 flex justify-between items-center cursor-pointer hover:bg-zinc-100 transition-colors",onClick:()=>o(t.id),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-zinc-900",children:t.name}),e.jsxs("p",{className:"text-sm text-zinc-500",children:["No. Keahlian: ",t.no_siri]})]}),e.jsx("div",{className:"text-zinc-400",children:e.jsx("svg",{className:`w-6 h-6 transform transition-transform duration-200 ${a===t.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),a===t.id&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-zinc-200",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider w-1/3",children:"Yuran Bulan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider w-1/3",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider w-1/3",children:"Tindakan"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-zinc-200",children:t.fees.map((s,r)=>e.jsxs("tr",{className:"hover:bg-zinc-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-zinc-900",children:s.month}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${s.status==="Sudah Bayar"?"bg-emerald-50 text-emerald-600 border border-emerald-100":s.status==="Tiada Rekod Pelajar"?"bg-gray-100 text-gray-500 border border-gray-200":"bg-amber-50 text-amber-600 border border-amber-100"}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.has_receipt?e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("a",{href:route("receipts.stream",s.payment_id),target:"_blank",className:"text-blue-600 hover:text-blue-900 hover:underline flex items-center gap-1",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Lihat"]}),e.jsxs("a",{href:route("receipts.download",s.payment_id),target:"_blank",className:"text-emerald-600 hover:text-emerald-900 hover:underline flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Resit"]})]}):s.can_pay?e.jsx("button",{onClick:()=>l(t.id,s.month,s.amount),className:"px-4 py-2 bg-black text-white text-xs font-bold rounded-lg hover:bg-zinc-800 transition-colors shadow-sm",children:"BAYAR"}):e.jsx("span",{className:"text-zinc-400 text-xs",children:"-"})})]},r))})]})})]},t.id))})})})]})}export{b as default};
