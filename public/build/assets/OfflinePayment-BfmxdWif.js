import{r as g,u as f,j as e,H as N}from"./app-KqomODBb.js";import{A as k}from"./AuthenticatedLayout-BAqf9URm.js";import"./transition-KnRa0JXW.js";function z({auth:d,child:s,yearlyFee:n,ageCategory:c}){const[i,o]=g.useState(null),{data:m,setData:x,post:h,processing:l,errors:r}=f({payment_slip:null}),u=a=>{const t=a.target.files[0];if(t){x("payment_slip",t);const j=URL.createObjectURL(t);o(j)}},b=a=>{a.preventDefault(),h(route("children.payment.offline.submit",s.id))},p=()=>{const a=document.createElement("a");a.href="/images/qrcode.jpeg",a.download="Taekwondo-ANZ-DuitNow-QR.jpeg",a.click()};return e.jsxs(k,{user:d.user,header:e.jsx("h2",{className:"font-semibold text-xl text-zinc-800 leading-tight",children:"Pembayaran Offline"}),children:[e.jsx(N,{title:"Pembayaran Offline"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mb-2",children:"Bayar Offline"}),e.jsx("p",{className:"text-zinc-600",children:"Sila imbas kod QR di bawah untuk membuat pembayaran"})]}),e.jsx("div",{className:"bg-zinc-50 rounded-lg p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-zinc-500",children:"Nama Peserta"}),e.jsx("p",{className:"text-base font-medium text-zinc-900",children:s.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-zinc-500",children:"Pusat Latihan"}),e.jsx("p",{className:"text-base font-medium text-zinc-900",children:s.training_center?s.training_center.name:"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-zinc-500",children:["Yuran Tahunan (",c,")"]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["RM ",parseFloat(n).toFixed(2)]})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 rounded-2xl p-8 text-center",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 inline-block",children:e.jsx("img",{src:"/images/qrcode.jpeg",alt:"DuitNow QR Code",className:"w-80 h-auto mx-auto"})}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",onClick:p,className:"px-6 py-3 bg-white text-pink-600 rounded-lg hover:bg-pink-50 transition-colors font-medium inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Muat Turun Kod QR"]})})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"Langkah-langkah Pembayaran:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-800",children:[e.jsx("li",{children:"Imbas kod QR di atas menggunakan aplikasi perbankan anda"}),e.jsxs("li",{children:["Masukkan jumlah ",e.jsxs("strong",{children:["RM ",parseFloat(n).toFixed(2)]})]}),e.jsx("li",{children:"Selesaikan pembayaran"}),e.jsx("li",{children:"Ambil tangkapan skrin resit pembayaran"}),e.jsx("li",{children:"Muat naik resit di bawah dan hantar"})]})]}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"border-2 border-dashed border-zinc-300 rounded-lg p-8 mb-6",children:[e.jsx("h4",{className:"font-bold text-zinc-900 mb-4",children:"Muat Naik Resit Pembayaran"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"sr-only",children:"Pilih fail"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:u,className:`block w-full text-sm text-zinc-500\r
                                                    file:mr-4 file:py-3 file:px-6\r
                                                    file:rounded-lg file:border-0\r
                                                    file:text-sm file:font-semibold\r
                                                    file:bg-blue-50 file:text-blue-700\r
                                                    hover:file:bg-blue-100\r
                                                    cursor-pointer`,required:!0})]}),e.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Format: JPG, PNG, atau PDF (Maks: 5MB)"}),r.payment_slip&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:r.payment_slip})]}),i&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-zinc-700 mb-2",children:"Pratonton:"}),e.jsx("img",{src:i,alt:"Preview",className:"max-w-md h-auto border border-zinc-200 rounded-lg"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>window.location.href=route("children.index"),className:"flex-1 px-6 py-3 border border-zinc-300 rounded-lg text-zinc-700 hover:bg-zinc-50 transition-colors font-medium",children:"Batal"}),e.jsx("button",{type:"submit",disabled:l||!m.payment_slip,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Menghantar...":"Hantar Resit"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Nota:"})," Selepas menghantar resit, sila tunggu kelulusan daripada admin. Peserta akan diaktifkan setelah pembayaran disahkan."]})})]})})})})]})}export{z as default};
